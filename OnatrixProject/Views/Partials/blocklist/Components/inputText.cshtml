@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;

@{
    var uniqueName = Model?.Content.Value<string>("uniqueName") ?? "";
    var label = Model?.Content.Value<string>("label") ?? "";
    var placeholder = Model?.Content.Value<string>("placeholder") ?? "";
    var inputType = Model?.Content.Value<string>("inputType") ?? "";

    var isRequired = Model.Content.Value<bool>("isRequired");
    var errorMessage = ViewData[$"error_{uniqueName}"]?.ToString() ?? "";
    var viewDataValue = ViewData[uniqueName]?.ToString() ?? "";
}

<div id="@uniqueName" class="form-input-group">
    <label class="form-label" for="@uniqueName">@label</label>
    <input id="@uniqueName" name="@uniqueName" type="@inputType" placeholder="@placeholder" class="form-input" value="@viewDataValue" @(isRequired ? "required" : "") />

    @if (!string.IsNullOrEmpty(errorMessage))
    {
        <span class="form-input-error">@errorMessage</span>
    }
</div>
